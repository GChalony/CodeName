{% extends "base.html" %}

{% block styles %}
    <link rel="stylesheet" href="{{url_for('static', filename='css/room.css') }}">
{% endblock %}

{% block content %}
{% set (tred, tblue) = teams %}
<div class="container">
    <h1 class="my-5 text-center">Salle d'attente</h1>
    <div class="panel-group" id="teams">
        {% for i, col, team in [(0, 'red', tred), (1, 'blue', tblue)] %}
        <div id="{{col}}_team_panel" class="panel panel-primary size-panel {{col}}-border d-flex flex-column">
            <div class="panel-heading {{col}}-bg text-center">Equipe {{"rouge" if i==0 else "bleue"}}</div>
            <div id="{{col}}_team_panel_body" class="p-2 flex-grow-1">
                <div class="panel-body spy-container {{col}}">
                   {% if team.spy is none %}
                   <button class="btn btn-default join-btn" data-pos="{{2*i}}">Rejoindre</button>
                   {% else %}
                   <div class="pseudo-div">{{ team.spy.pseudo }}</div>
                   {% endif %}
               </div>
                {% for g in team.guessers %}
                <div class="pseudo-div">{{ g.pseudo }}</div>
                {% endfor %}
            </div>
            <button class="btn btn-default join-btn" data-pos="{{2*i+1}}">Rejoindre</button>
        </div>
        {% endfor %}
    </div>
</div>
<div id="start">
    <button class="btn btn-default" type="submit" id="home">Retour Ã  l'accueil</button>
    {% if is_creator %}
    <button class="btn btn-success" type="submit" id="go" disabled>Commencer la partie</button>
    {% endif %}
</div>

{% endblock %}

{% block scripts %}
<script src="{{url_for('static', filename='js/room.js') }}"></script>
{% endblock %}
